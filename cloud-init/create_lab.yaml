#cloud-config
hostname: inserthostname-here
manage_etc_hosts: True
system_info:
  default_user:
    name: cisco
password: cisco
chpasswd: { expire: False }
ssh_pwauth: True
ssh_authorized_keys:
  - your-ssh-pubkey-line-goes-here

timezone: Asia/Tokyo
locale: ja_JP.utf8


write_files:
  - path: /etc/netplan/50-cloud-init.yaml
    content: |
      network:
        version: 2
        ethernets:
          ens2:
            dhcp4: false
          ens3:
            dhcp4: false
          ens4:
            dhcp4: false
          ens5:
            dhcp4: false
          ens6:
            dhcp4: false
          ens7:
            dhcp4: false
          ens8:
            dhcp4: false
          ens9:
            dhcp4: false

runcmd:

  - |
    cat - << 'EOS' >> /etc/bash.bashrc
    rsz () if [[ -t 0 ]]; then local escape r c prompt=$(printf '\e7\e[r\e[999;999H\e[6n\e8'); IFS='[;' read -sd R -p "$prompt" escape r c; stty cols $c rows $r; fi
    rsz
    EOS
